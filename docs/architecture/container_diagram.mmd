---
title: RTP-MIDI Container Diagram
---

flowchart TB
    subgraph User Devices
        QtUI["Qt Desktop UI (C++/QML)"]
        WebFrontend["Web Frontend (HTML/JS)"]
        AndroidApp["Android App (Kotlin/Java)"]
    end

    subgraph Core Services
        RustCore["Rust Core Backend"]
        AudioServer["Audio Server (Rust)"]
        SignalingServer["Signaling Server (Rust)"]
    end

    subgraph External
        WLED["WLED/ESP32 Controller"]
        LEDStrips["LED Strips"]
        AudioInput["Audio Input Device"]
        MIDIInput["MIDI Input Device"]
    end

    QtUI -- FFI (C++/Rust) --> RustCore
    WebFrontend -- WebSocket/WebRTC --> SignalingServer
    AndroidApp -- JNI/AIDL --> RustCore

    RustCore -- IPC/Channel --> AudioServer
    RustCore -- IPC/Channel --> SignalingServer
    RustCore -- UDP/DDP --> WLED
    RustCore -- reads --> AudioInput
    RustCore -- reads --> MIDIInput

    WLED -- controls --> LEDStrips
    AudioServer -- reads --> AudioInput
    SignalingServer -- WebSocket/WebRTC --> WebFrontend

    classDef container fill:#bbf,stroke:#333,stroke-width:2px;
    classDef external fill:#f9f,stroke:#333,stroke-width:2px;
    class QtUI,WebFrontend,AndroidApp,RustCore,AudioServer,SignalingServer container;
    class WLED,LEDStrips,AudioInput,MIDIInput external;
